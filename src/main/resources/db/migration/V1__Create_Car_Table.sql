GRANT ALL PRIVILEGES ON *.* TO 'myuser'@'%' WITH GRANT OPTION;
FLUSH PRIVILEGES;
SHOW GRANTS FOR 'myuser'@'%';
CREATE SCHEMA transaction;
GRANT ALL PRIVILEGES ON SCHEMA transaction TO 'myuser'@'%';
SHOW GRANTS FOR 'myuser'@'%';
USE transaction;
CREATE TABLE transaction ( transaction_id VARCHAR(255) PRIMARY KEY, sender_account VARCHAR(50) NOT NULL CHECK (sender_account ~ '^[a-zA-Z0-9]+$'), receiver_account VARCHAR(50) NOT NULL CHECK (receiver_account ~ '^[a-zA-Z0-9]+$'), amount DECIMAL(10,2) NOT NULL CHECK (amount > 0), currency VARCHAR(10) NOT NULL, status VARCHAR(20) NOT NULL CHECK (status IN ('PENDING', 'SUCCESS', 'FAILED')), timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP );
INSERT INTO transaction (transaction_id, sender_account, receiver_account, amount, currency, status, timestamp) VALUES ('TXN12345', 'SENDER001', '1234567890', 1000.00, 'INR', 'SUCCESS', CURRENT_TIMESTAMP) ON CONFLICT (transaction_id) DO UPDATE SET sender_account = EXCLUDED.sender_account, receiver_account = EXCLUDED.receiver_account, amount = EXCLUDED.amount, currency = EXCLUDED.currency, status = EXCLUDED.status, timestamp = EXCLUDED.timestamp;
INSERT INTO transaction (transaction_id, sender_account, receiver_account, amount, currency, status, timestamp) VALUES ('TXN12346', 'SENDER001', '1234567890', 1000.00, 'INR', 'SUCCESS', CURRENT_TIMESTAMP) ON CONFLICT (transaction_id) DO UPDATE SET sender_account = EXCLUDED.sender_account, receiver_account = EXCLUDED.receiver_account, amount = EXCLUDED.amount, currency = EXCLUDED.currency, status = EXCLUDED.status, timestamp = EXCLUDED.timestamp;
INSERT INTO transaction (transaction_id, sender_account, receiver_account, amount, currency, status, timestamp) VALUES ('TXN12347', 'SENDER001', '1234567890', 1000.00, 'INR', 'SUCCESS', CURRENT_TIMESTAMP) ON CONFLICT (transaction_id) DO UPDATE SET sender_account = EXCLUDED.sender_account, receiver_account = EXCLUDED.receiver_account, amount = EXCLUDED.amount, currency = EXCLUDED.currency, status = EXCLUDED.status, timestamp = EXCLUDED.timestamp;
INSERT INTO transaction (transaction_id, sender_account, receiver_account, amount, currency, status, timestamp) VALUES ('TXN12348', 'SENDER001', '1234567890', 1000.00, 'INR', 'SUCCESS', CURRENT_TIMESTAMP) ON CONFLICT (transaction_id) DO UPDATE SET sender_account = EXCLUDED.sender_account, receiver_account = EXCLUDED.receiver_account, amount = EXCLUDED.amount, currency = EXCLUDED.currency, status = EXCLUDED.status, timestamp = EXCLUDED.timestamp;
INSERT INTO transaction (transaction_id, sender_account, receiver_account, amount, currency, status, timestamp) VALUES ('TXN12349', 'SENDER001', '1234567890', 1000.00, 'INR', 'SUCCESS', CURRENT_TIMESTAMP) ON CONFLICT (transaction_id) DO UPDATE SET sender_account = EXCLUDED.sender_account, receiver_account = EXCLUDED.receiver_account, amount = EXCLUDED.amount, currency = EXCLUDED.currency, status = EXCLUDED.status, timestamp = EXCLUDED.timestamp;
INSERT INTO transaction (transaction_id, sender_account, receiver_account, amount, currency, status, timestamp) VALUES ('TXN12310', 'SENDER001', '1234567890', 1000.00, 'INR', 'SUCCESS', CURRENT_TIMESTAMP) ON CONFLICT (transaction_id) DO UPDATE SET sender_account = EXCLUDED.sender_account, receiver_account = EXCLUDED.receiver_account, amount = EXCLUDED.amount, currency = EXCLUDED.currency, status = EXCLUDED.status, timestamp = EXCLUDED.timestamp;
INSERT INTO transaction (transaction_id, sender_account, receiver_account, amount, currency, status, timestamp) VALUES ('TXN12311', 'SENDER001', '1234567890', 1000.00, 'INR', 'SUCCESS', CURRENT_TIMESTAMP) ON CONFLICT (transaction_id) DO UPDATE SET sender_account = EXCLUDED.sender_account, receiver_account = EXCLUDED.receiver_account, amount = EXCLUDED.amount, currency = EXCLUDED.currency, status = EXCLUDED.status, timestamp = EXCLUDED.timestamp;
INSERT INTO transaction (transaction_id, sender_account, receiver_account, amount, currency, status, timestamp) VALUES ('TXN12312', 'SENDER001', '1234567890', 1000.00, 'INR', 'SUCCESS', CURRENT_TIMESTAMP) ON CONFLICT (transaction_id) DO UPDATE SET sender_account = EXCLUDED.sender_account, receiver_account = EXCLUDED.receiver_account, amount = EXCLUDED.amount, currency = EXCLUDED.currency, status = EXCLUDED.status, timestamp = EXCLUDED.timestamp;
INSERT INTO transaction (transaction_id, sender_account, receiver_account, amount, currency, status, timestamp) VALUES ('TXN12313', 'SENDER001', '1234567890', 1000.00, 'INR', 'SUCCESS', CURRENT_TIMESTAMP) ON CONFLICT (transaction_id) DO UPDATE SET sender_account = EXCLUDED.sender_account, receiver_account = EXCLUDED.receiver_account, amount = EXCLUDED.amount, currency = EXCLUDED.currency, status = EXCLUDED.status, timestamp = EXCLUDED.timestamp;
INSERT INTO transaction (transaction_id, sender_account, receiver_account, amount, currency, status, timestamp) VALUES ('TXN12314', 'SENDER001', '1234567890', 1000.00, 'INR', 'SUCCESS', CURRENT_TIMESTAMP) ON CONFLICT (transaction_id) DO UPDATE SET sender_account = EXCLUDED.sender_account, receiver_account = EXCLUDED.receiver_account, amount = EXCLUDED.amount, currency = EXCLUDED.currency, status = EXCLUDED.status, timestamp = EXCLUDED.timestamp;
